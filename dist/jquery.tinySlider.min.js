/*! TinySlider - v0.1.0 - 2012-11-29
* https://github.com/KaptinLin/tinySlider
* Copyright (c) 2012 KaptinLin; Licensed GPL */
(function(e,t,n,r){"use strict";var i=n.TinySlider=function(e,t){this.element=e,this.$element=n(e);var r=[];n.each(this.$element.data(),function(e,t){var n=new RegExp("^tinyslider","i");n.test(e)&&(r[e.toLowerCase().replace(n,"")]=t)}),this.options=n.extend(!0,{},i.defaults,t,r);var s=this.options.namespace;this.classes={},this.classes.activeSlide=this.options.namespace+"-slide-active",this.classes.activePager=this.options.namespace+"-pager-active",this.$element.addClass(s+"-container"),this.$viewport=this.$element.children("ul").addClass(s+"-viewport"),this.$slides=this.$viewport.children();var o=this;n.extend(o,{init:function(){o.options.pager&&this.pager.setup(),o.options.nav&&this.nav.setup(),o.options.random&&(o.$slides.sort(function(){return Math.round(Math.random())-.5}),o.$viewport.empty().append(o.$slides)),o.$viewport.attr("data-animation",o.options.animation),o.$viewport.on("go",o.animations[o.options.animation]),o.current=0,o.active(o.current),o.options.autoplay&&(o.autoplay.enabled=!0,o.autoplay.start()),o.$viewport.on("animation_end",function(e,t){e.stopPropagation(),o.current=t.index,o.active(t.index),o.autoplay.enabled&&o.autoplay.start()})},autoplay:{enabled:!1,start:function(){o.autoplay.timeout=setTimeout(function(){o.go()},o.options.delay)},stop:function(){clearTimeout(o.autoplay.timeout)}},active:function(e){o.$slides.removeClass(o.classes.activeSlide).eq(e).addClass(o.classes.activeSlide)},pager:{setup:function(){o.$pager=n('<ul class="'+s+'-pager" />');var e=[];o.$slides.each(function(t){var n=t+1;e+="<li><a href='#'>"+n+"</a>"+"</li>"}),o.$pager.append(e),o.$pager.appendTo(o.$element),o.pager.$items=o.$pager.children(),o.pager.bind()},bind:function(){o.$viewport.on("go",function(e,t){o.pager.active(t.index)}),o.$pager.delegate("li","click",function(){o.goTo(n(this).index())})},active:function(e){o.pager.$items.removeClass(o.classes.activePager).eq(e).addClass(o.classes.activePager)}},nav:{setup:function(){o.$nav=n('<div class="'+s+'-nav">'+'<a href="#" class="'+s+'-nav-prev">'+o.options.prevText+"</a>"+'<a href="#" class="'+s+'-nav-next">'+o.options.nextText+"</a>"+"</div>"),o.$nav.appendTo(o.$element),o.$nav.delegate("a","click",function(){n(this).is(s+"-nav-prev")?o.next():o.prev()})}},animations:{fade:function(e,t){e.stopPropagation(),o.$viewport.trigger("animation_start",{current:o.current,index:t.index}),o.$slides.eq(o.current).fadeOut(o.options.duration,o.options.easing),o.$slides.eq(t.index).fadeIn(o.options.duration,o.options.easing,function(){o.$viewport.trigger("animation_end",{index:t.index})})},slide:function(){}}}),o.init()};i.defaults={namespace:"tiny",animation:"fade",easing:"swing",duration:1e3,delay:4e3,pager:!1,nav:!1,prevText:"Previous",nextText:"Next",random:!1,autoplay:!0,pauseOnHover:!0,useCSS:!0,touch:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},i.prototype={constructor:i,play:function(){this.autoplay.enabled=!0,this.autoplay.start()},pause:function(){this.autoplay.stop()},stop:function(){this.autoplay.enabled=!1,this.autoplay.stop()},next:function(){var e=this.current+1>=this.$slides.length?0:this.current+1;this.goTo(e)},prev:function(){var e=this.current-1<0?this.$slides.length-1:this.current-1;this.goTo(e)},go:function(){var e=this.current+1>=this.$slides.length?0:this.current+1;this.goTo(e)},goTo:function(e){this.$viewport.trigger("go",{index:e})},update:function(){},destroy:function(){}},n.fn.tinySlider=function(e){if(typeof e=="string"){var t=e,s=arguments.length>1?Array.prototype.slice.call(arguments,1):r;return this.each(function(){var e=n.data(this,"tinyslider");typeof e[t]=="function"&&e[t].apply(e,s)})}return this.each(function(){n.data(this,"tinyslider")||n.data(this,"tinyslider",new i(this,e))})}})(window,document,jQuery);